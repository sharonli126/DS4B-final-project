---
title: "A title for your project"
author: "Your name and U number"
date: "Today's date"
output:  
    html_document:
        toc: true
        toc_depth: 4
        theme: cosmo
        number_sections: false
        toc_float: true
        highlight: pygments
        fig_width: 8
        fig_height: 4
---
# Word/figure count

Words: [The number of words in your document, calculated using the word_count() function at the end of this document]
Figures: [The number of figures in your document. You can just count these]

# Location on GitHub

https://github.com/sharonli126/DS4B-final-project 

# Data Description

[A brief (~100-200 words should be more than enough) description of the dataset, referencing any key publications that go with it]

AnAge is a database recording the longevity, ageing and life history across over 4000 animal species which researchers have collected and published relevant data and is freely available online. It was developed by researchers at the Human Ageing Genomic Resources (HAGR), encompassed species data with key attributes include taxonmic classification (from kingdom to species), common names, developmental milestone (eg: maturity days for both genders), reproductive traits (gestation/ incubation days, weaning days, and litter/ clutch sizes), physiological characteristics (adult weight and metabolic rate), and maximum longevity. To reduce bias of sample size of lifespan record, comparative longevity studies were performed with estimate sample size, and it is recorded in the dataset along with the determined quality. This data can be widely used in biological field, such as zoology, ecology, physiology and conservation biology (De-Magalhães & Costa, 2009).    

# Questions/Aims

__How do life-history traits leads to difference of longevity in between the orders Primates and Rodentia?__

[A brief section which first states and then justifies the questions/aims of your EDA. Must provide evidence of independent research into what has been done before on these questions/aims. See above for examples.]

Why do some animals live only a few years, but some can live several years, or even over a hundred year? This has been one of the most interesting questions in Biology all the time. While animals varies in lifespan, the order of Mammalia, which we, humans belong to, particularly present a diverse of lifespan. For hamster or mouse, they only have around 4 years lifespan but for a gorilla, it can live up to around 60 years, or humans and whales can live even over 100 years old! 

Both Primates and Rodentia are order with a large family, but they have represent two very different life-history strategies. Primates tend to have longer lifespans, extended juvenile dependency periods, and fewer offspring, while most rodents reproduce quickly, have shorter lifespans, and produce more offspring in their lifetime.  

Therefore, to understand deeper of how different factors correlate with lifespan in these two different order, this study analyse a big database of aging and life history in over 4600 animal species from AnAge, aiming to find the correlation of possible aging related life history trait, particularly on reproductive strategies.

# Raw data

[Explains how and where to get the exact raw data you got]
[Is reproducible by a person (required) and a machine (ideally)]

```{r}
raw_data <- read_delim("raw_data/anage_data.txt", 
                   delim = "\t", 
                   escape_double = FALSE, 
                   trim_ws = TRUE)

data <- raw_data |>
  clean_names()
```

This data is download from AnAge (URL: https://genomics.senescence.info/species/dataset.zip)

It is reproducible with reference mentioned.


# Data wrangling

[R chunks and prose which:]
[Tidies up your raw data, outputs tidied_data.csv]
[Cleans up your tidied data, outputs cleaned_data.csv]

# Sanity checks

[R chunks and prose which perform sanity checks on your cleaned data]
[Remember that this really just summarises that your data are OK after you've cleaned them]
[Most of the real sanity checks and data cleaning go on in the data_cleaning.Rmd file]

# Addressing the questions/aims

[This is the *main* section of your work. For example, if you are doing an EDA, this is where you would summarise it. If you are building something like a package or shiny app, a description of that package / app and demonstration of its function(s) would go here. Use appropriate sub-headings.]

Library
```{r, include=F}
library(tidyverse)
```

## Visualisation of different correlation

```{r}
ggplot(, aes(x = maximum_longevity_yrs)) +
  geom_histogram() +
  coord_cartesian(xlim = c(1, 80))
```

```{r}
ggplot(mammalia, aes(x =inter_litter_interbirth_interval , y = maximum_longevity_yrs)) +
  geom_point() + 
  geom_smooth()
```

```{r}
ggplot(selected_order, aes(x = metabolic_rate_w , y = maximum_longevity_yrs)) +
  geom_point() + 
  geom_smooth() +
  labs(y = "Max. Lifespan")
```

```{r}
ggplot(primates, aes(x = adult_weight_g, y = weaning_days)) +
  geom_point() +
  geom_smooth()
```

```{r}
ggplot(selected_order, aes(x = weaning_days, y = maximum_longevity_yrs)) +
  geom_point() + 
  geom_smooth() +
  labs(y = "Max. Lifespan") +
  facet_wrap(~ order)
```


```{r}
ggplot(selected_order, aes(x = gestation_incubation_days , y = maximum_longevity_yrs)) +
  geom_point() + 
  geom_smooth() +
  labs(y = "Max. Lifespan", x = "Gestation Incubation Days") +
  facet_wrap(~ order)
```

## Linear model
```{r}
model <- lm(data = mammalia_clean,
            adult_weight_g ~  
              weaning_days +
              inter_litter_interbirth_interval + 
              gestation_incubation_days)

summary(model)
```



# References

[References you have cited throughout your text]

AnAge url: https://genomics.senescence.info/species/index.html

DE MAGALHÃES, J.P. and COSTA, J. (2009), A database of vertebrate longevity records and their relation to other life-history traits. Journal of Evolutionary Biology, 22: 1770-1774. https://doi.org/10.1111/j.1420-9101.2009.01783.x

Lee, P. C. (1996) The meanings of weaning: Growth, lactation, and life history. Evolutionary anthropology. [Online] 5 (3), 87–98.

Tacutu, R., Craig, T., Budovsky, A., Wuttke, D., Lehmann, G., Taranukha, D., Costa, J., Fraifeld, V. E., & de Magalhães, J. P. (2013). Human Ageing Genomic Resources: integrated databases and tools for the biology and genetics of ageing. Nucleic acids research, 41(Database issue), D1027–D1033. https://doi.org/10.1093/nar/gks1155



## Correlation


```{r}
ggplot(aves, aes(x = adult_weight_g, y = maximum_longevity_yrs)) +
  geom_point() + 
  geom_smooth() +
  labs(y = "Max. Lifespan") +
  coord_cartesian(xlim = c(1, 20000))
```






__mentioning the reason of variance, eg: sample size__





With the correlation so far above, it is quite interesting to find gestation incubation days and weaning day have a high effect on the lifespan in mammal. I will further dig to it

Aves: no weaning days record, metabolic rate is the only significant
Mammalia: 

Data cleaning: use clean data for lm, since it is comparing all factors but for data plotting it can be regular data

To do list:
gitignore comment
reseach q


Reference:



